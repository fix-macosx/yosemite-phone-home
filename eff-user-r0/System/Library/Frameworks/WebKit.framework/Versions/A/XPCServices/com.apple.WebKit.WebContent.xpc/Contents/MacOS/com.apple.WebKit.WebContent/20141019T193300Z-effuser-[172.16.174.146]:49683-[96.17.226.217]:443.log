GET /htmlResources/0414/da-storefront-base.js HTTP/1.1
Host: itunes.apple.com
Accept: */*
Accept-Language: en-US
Accept-Encoding: gzip, deflate
Connection: keep-alive
Date: Sun, 19 Oct 2014 19:32:59 GMT
Cookie: xp_ci=3z2fX0gnz8Ddz57vzCNRz16rZrLBq9
User-Agent: MacAppStore/2.0 (Macintosh; OS X 10.10; 14A389) AppleWebKit/0600.1.25
Referer: https://itunes.apple.com/WebObjects/MZStore.woa/wa/viewGrouping?cc=us&id=29520&mt=12
X-Apple-Store-Front: 143441-1,13
X-Apple-TZ: -420

HTTP/1.1 200 OK
Server: Apache
Last-Modified: Fri, 17 Oct 2014 21:37:45 GMT
ETag: "338a9-505a52cef3216"
Accept-Ranges: bytes
Content-Length: 211113
X-Server: st11p00it-web020
Content-Type: application/x-javascript; charset=utf-8
Cache-Control: public, no-transform, max-age=31536000
Date: Sun, 19 Oct 2014 19:33:00 GMT
Connection: close
X-Apple-Partner: origin.0

/*
** Copyright © 2014 Apple Inc.
** All rights reserved.
*/

function ITSEvent(e,t){this.eventName=e,this.eventSource=t}function _itsdlogHasClientLogger(e){return window.its&&its.client&&its.client[e]&&typeof its.client[e]=="function"}function _itsdlogHasConsoleLogger(e){return window.console&&console[e]}function _itsdlogFunnel(e,t,n){t||(t="log");
if(_itsdlogHasClientLogger(t))return its.client[t](e,n);
if(_itsdlogHasConsoleLogger(t)&&!n)return console[t](e)}function itsdlog(e){return _itsdlogFunnel(e,"log")}function itsdinfo(e){return _itsdlogFunnel(e,"info")}function itsddebug(e){return _itsdlogFunnel(e,"debug")}function itsdslog(e,t){return _itsdlogFunnel(e,t,!0)}function itsdalert(e){return alert(e)}function bind(e,t){typeof t=="string"&&(t=e[t]);
var n=Array.prototype.slice,r=n.call(arguments,2);
return r.length>0?t.bind.apply(t,[e].concat(r)):t.bind(e)}function bindAsEventListener(e,t){typeof t=="string"&&(t=e[t]);
var n=Array.prototype.slice,r=n.call(arguments,2);
return function(i){return t.apply(e,[i].concat(r))}}function defer(e,t,n){return n||(n=0),setTimeout(bind(e,t),n)}function defined(e){return typeof window[e]!="undefined"}function getGlobalConst(e){return defined(e)?window[e]:null}function definedValue(e,t){return typeof e!="undefined"&&e!=null?e:t}function classNameForObject(e){if(e===null)return"null";
var t=typeof e;
if(t=="undefined")return"undefined";
if(t=="string"||e instanceof String)return"String";
if(t=="number"||e instanceof Number)return"Number";
if(e.constructor===Array)return"Array";
if(t=="object"||t=="function"){if(e.klassName)return e.klassName;
var n=e.toString();
n=="[object Object]"&&(n=e.constructor.toString());
if(n.indexOf("function ")===0)return n.replace("function ","").split("(")[0].toString();
if(n.indexOf("[object ")===0)return n.replace("[object ","").replace("]","");
if(n.indexOf("[object]")===0)return"object"}return"unknown"}function newElement(e,t,n){var e=document.createElement(e);
return t&&(typeof t=="string"?e.innerHTML=t:e.appendChild(t)),n&&(e.className=n),e}function isDomNode(e){return typeof e=="object"&&e.nodeType===1&&e.cloneNode}function clone(e,t,n){var r=null;
if(e==null||typeof e!="object")r=e;
!r&&isDomNode(e)&&(r=e.cloneNode(t),n&&(e.id=its.x.uniquifyId(e.id)));
if(!r&&e instanceof Object){var i={};
for(var s in e)e.hasOwnProperty(s)&&(i[s]=t?clone(e[s]):e[s]);
r=i}if(!r&&e instanceof Array){var i=[];
e.each(function(e){i.push(t?clone(e):e)}),r=i}if(!r&&e instanceof Date){var i=new Date;
i.setTime(e.getTime()),r=i}if(!r&&e)throw new Error("Clone failed.");
return r}function ITSLogger(e){e||(e=ITSLogger.Defaults.loggerName),this._loggerName=e,ITSLogger.loggers||(ITSLogger.loggers={}),ITSLogger.loggers[e]=this}function SFDelayedImageLoaderController(){}function iTSKitImageLoader(e,t,n,r){this.callback=bind(t,e),r||(r=9999),this.timeout=setTimeout(bind(this,"goOnTimeout"),r),this.images=new Array,this.addElements(n),this.numImages=0,this.images.each(function(e){its.ui.isImageComplete(e)||(this.numImages++,e.addEventListener("load",this,!1))},this),this.goOnReady()}function ITSParentalRating(e,t){this.ratingSystem=e,this.ratingValue=t}function ITSMetricsPageInfo(e,t,n,r){this.pageName=e,this.pageNameExtrasForBuyMetrics=t,this.channelName=n,this.location=r}function ITSPageMetricsUtil(){}function ITSLocationMetricsUtil(){}function ITSMetricsClickHandler(){}typeof its=="undefined"&&(its={}),its.sf||(its.sf={}),its.sf.DelayedCallQueue={},its.sf.DelayedCallQueue._queue={},its.sf.DelayedCallQueue._handlerObjectsCache={},its.sf.DelayedCallQueue.call=function(handlerObjectName,aFunction){var handlerObject=its.sf.DelayedCallQueue._handlerObjectsCache[handlerObject];
if(!handlerObject)try{handlerObject=eval(handlerObjectName),handlerObject&&typeof handlerObject!="undefined"&&(its.sf.DelayedCallQueue._handlerObjectsCache=handlerObject)}catch(anException){}var handlerObjectFunctionArray=its.sf.DelayedCallQueue._queue[handlerObjectName];
!handlerObject||typeof handlerObject=="undefined"?(handlerObjectFunctionArray||(handlerObjectFunctionArray=[],its.sf.DelayedCallQueue._queue[handlerObjectName]=handlerObjectFunctionArray),handlerObjectFunctionArray.push(aFunction)):(its.sf.DelayedCallQueue.objectReady(handlerObjectName),aFunction())},its.sf.DelayedCallQueue.objectReady=function(e){var t=its.sf.DelayedCallQueue._queue[e];
if(t){for(var n=0;
n<t.length;
n++)t[n]();
its.sf.DelayedCallQueue._queue[e]=null,delete its.sf.DelayedCallQueue._queue[e]}},window.its||(window.its={}),window.its.sf||(window.its.sf={}),its.sf.Platform={iPhone:function(){return its.sf.Platform.init(),its.sf.Platform._iPhone==1},iPhoneN56:function(){return typeof Device!="undefined"&&Device.productType.indexOf("iPhone7,1")!=-1},iPhoneN61:function(){return typeof Device!="undefined"&&Device.productType.indexOf("iPhone7,2")!=-1},iPhone4:function(){return its.sf.Platform.init(),its.sf.Platform._iPhone4==1},iPhone5:function(){return its.sf.Platform.init(),its.sf.Platform._iPhone5==1},iPad:function(){return its.sf.Platform.init(),its.sf.Platform._iPad==1},ATV:function(){return its.sf.Platform.init(),its.sf.Platform._ATV==1},iTunes11:function(){return its.sf.Platform.init(),its.sf.Platform._iTunes11==1},iTunes12:function(){return its.sf.Platform.init(),its.sf.Platform._iTunes12==1},iBooksMac:function(){return its.sf.Platform.init(),its.sf.Platform._iBooksMac==1},MacAppStore:function(){return its.sf.Platform.init(),its.sf.Platform._MacAppStore==1},desktop:function(){return this.iTunes11()||this.iTunes12()?!0:this.iBooksMac()?!0:this.MacAppStore()?!0:!1},device:function(){return this.iPhone()||this.iPad()},init:function(){if(its.sf.Platform._IS_INITIALIZED)return;if(its.serverData&&its.serverData.constants&&its.serverData.constants.platformCacheId)its.sf.Platform._platformCacheId=Number(its.serverData.constants.platformCacheId);
else{var e=document.querySelector("meta[name='platform-cache-id']");
its.sf.Platform._platformCacheId=Number(e.getAttribute("content"))}switch(its.sf.Platform._platformCacheId){case 25:case 23:case 20:case 15:its.sf.Platform._iPad=!0;
break;case 26:case 24:case 21:case 16:its.sf.Platform._iPhone=!0;
break;case 19:case 27:its.sf.Platform._ATV=!0;
break;case 17:its.sf.Platform._iTunes11=!0;
break;case 28:its.sf.Platform._iTunes12=!0;
break;case 22:its.sf.Platform._iBooksMac=!0;
break;case 13:its.sf.Platform._MacAppStore=!0}this.initDeviceInfo(),its.sf.Platform._IS_INITIALIZED=!0},initDeviceInfo:function(){this.isITML()&&typeof Device!="undefined"&&Device.productType&&(Device.productType.indexOf("iPhone5")!=-1||Device.productType.indexOf("iPhone6")!=-1||Device.productType.indexOf("iPod5")!=-1?its.sf.Platform._iPhone5=!0:Device.productType.indexOf("iPhone4")!=-1&&(its.sf.Platform._iPhone4=!0))},hiDPI:function(){return window.devicePixelRatio>1},isDark:function(){return typeof document!="undefined"&&typeof document.body!="undefined"&&typeof document.body.className!="undefined"&&document.body.className.match("dark")},isMavericksOrLater:function(){return this.iBooksMac()||typeof iTunes!="undefined"&&(iTunes.platform=="mac"||iTunes.platform=="Mac")&&iTunes.osBuildID&&its.string.compareNumerically(iTunes.osBuildID,"13A")>=0},platformCacheId:function(){return its.sf.Platform.init(),its.sf.Platform._platformCacheId},isITML:function(){var e=!1;
if(its.serverData&&its.serverData.constants&&its.serverData.constants.platformCacheId&&typeof itms!="undefined"){var t=parseInt(its.serverData.constants.platformCacheId);
switch(t){case 25:case 26:case 19:case 27:e=!0}}return e},isProd:function(){if(!its.isDefinedNonNull(this._isProd)){var e=its.property("ITSServerEnvironment");
this._isProd=e&&e.indexOf("prod")!=-1}return this._isProd},isBadgeTextColoringSupported:function(){return Device&&its.string.compareNumerically(Device.systemVersion,"8.1")>=0},isReleaseDateInMovieLockup:function(){return its.sf.Platform.iPad()}},its.sf.Platform._logger=its.Logger?its.Logger.named("its.sf.Platform"):null,window.its||(window.its={}),its.x||(its.x={}),its.x.util||(its.x.util={}),its.x.util.array||(its.x.util.array={}),its.x.uniqueGuid=1,its.x.attachGuid=function(t){t.__guid||(t.__guid=its.x.uniqueGuid++)},its.x.browserName=function(){return its.x.isOpera()?"opera":its.x.isKhtml()?"khtml":its.x.isSafari()?"safari":its.x.isChrome()?"chrome":its.x.isWebKit()?"webkit":its.x.isIE7()?"ie7":its.x.isIE8()?"ie8":its.x.isIE()?"ie":its.x.isFirefox()?"firefox":"unknown"},its.x.initBrowserDetect=function(){if(typeof its.x.initBrowserDetect.browser=="undefined"||!its.x.initBrowserDetect.browser){var t=navigator,n=t.userAgent,r=t.appVersion,i=parseFloat(r),s={};
s.isOpera=n.indexOf("Opera")>=0?i:undefined,s.isKhtml=r.indexOf("Konqueror")>=0?i:undefined,s.isWebKit=parseFloat(n.split("WebKit/")[1])||undefined,s.isChrome=parseFloat(n.split("Chrome/")[1])||undefined,s.isFirefox=/Firefox[\/\s](\d+\.\d+)/.test(n);
var o=Math.max(r.indexOf("WebKit"),r.indexOf("Safari"),0);
if(o&&!s.isChrome){s.isSafari=parseFloat(r.split("Version/")[1]);
if(!s.isSafari||parseFloat(r.substr(o+7))<=419.3)s.isSafari=2}if(document.all&&!s.isOpera){s.isIE=parseFloat(r.split("MSIE ")[1])||undefined;
var u=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),a=-1;
u.exec(n)!=null&&(a=parseFloat(RegExp.$1)),s.isIE7=a>=7&&a<8,s.isIE8=a>=8&&a<9}its.x.initBrowserDetect.browser=s}return its.x.initBrowserDetect.browser},its.x.isIE=function(){return its.x.initBrowserDetect().isIE},its.x.isIE7=function(){return its.x.initBrowserDetect().isIE7},its.x.isIE8=function(){return its.x.initBrowserDetect().isIE8},its.x.isOpera=function(){return its.x.initBrowserDetect().isOpera},its.x.isKhtml=function(){return its.x.initBrowserDetect().isKhtml},its.x.isWebKit=function(){return its.x.initBrowserDetect().isWebKit},its.x.isChrome=function(){return its.x.initBrowserDetect().isChrome},its.x.isSafari=function(){return its.x.initBrowserDetect().isSafari},its.x.isFirefox=function(){return its.x.initBrowserDetect().isFirefox},its.x.PLATFORMS||(its.x.PLATFORMS={}),its.x.PLATFORMS.Windows="Windows",its.x.PLATFORMS.MacOS="MacOS",its.x.PLATFORMS.Linux="Linux",its.x.PLATFORMS.Unix="Unix",its.x.__detectOS=function(){var t=undefined;
return navigator.appVersion.indexOf("Win")!=-1?t=its.x.PLATFORMS.Windows:navigator.appVersion.indexOf("Mac")!=-1?t=its.x.PLATFORMS.MacOS:navigator.appVersion.indexOf("X11")!=-1?t=its.x.PLATFORMS.Unix:navigator.appVersion.indexOf("Linux")!=-1&&(t=its.x.PLATFORMS.Linux),t},its.x.isWindows=function(){return its.x.__detectOS()==its.x.PLATFORMS.Windows},its.x.isMacOS=function(){return its.x.__detectOS()==its.x.PLATFORMS.MacOS},its.x.util.array.indexOf=function(t,n){var r=-1;
if(t.indexOf)r=t.indexOf(n);
else for(var i=0;
i<t.length&&r==-1;
i++)t[i]==n&&(r=i);
return r},its.x.util.array.shallowCopy=function(t){return t.slice(0)},its.x.notifyOfDOMContentLoaded=function(t){var n=!0;
return its.x.isIE()?n=window.attachEvent("onload",t):document.addEventListener("DOMContentLoaded",t,!1),n},its.x.addEventListener=function(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent&&t.attachEvent("on"+n,function(e){r.call(t,e)})},ITSEvent.prototype.preventDefault=function(){this._preventDefaultFlag=!0},ITSEvent.prototype.shouldPreventDefault=function(){return this._preventDefaultFlag},its.x.extendWithEventDispatching=function(t){t.__eventToListenersMap||(t.__eventToListenersMap={},t.__additionalDispatchers=new Array,Class.extend(t,its.x._ITSEventDispatcher))},its.x._ITSEventDispatcher=function(){},its.x._ITSEventDispatcher.itsAddEventListener=function(t,n){var r=!1;
if(typeof n=="function"){var i=this.__eventToListenersMap[t];
i||(i=new Array,this.__eventToListenersMap[t]=i),its.x.util.array.indexOf(i,n)==-1&&(i.push(n),r=!0)}return r},its.x._ITSEventDispatcher.itsRemoveEventListener=function(t,n){var r=this.__eventToListenersMap[t];
if(r){var i=its.x.util.array.indexOf(r,n);
i>=0&&r.splice(i,1)}},its.x._ITSEventDispatcher.itsHasEventListeners=function(t){if(!t)throw new Error("itsHasEventListeners called with null event");
var n=this.__eventToListenersMap[t.eventName];
return n&&n.length||this.__additionalDispatchers&&this.__additionalDispatchers.length},its.x._ITSEventDispatcher.itsDispatchEvent=function(t){var n=this.__eventToListenersMap[t.eventName];
if(n)for(var r=0;
r<n.length;
r++)try{n[r].apply(this,arguments)}catch(i){console&&console.error&&i.line&&i.sourceURL&&console.error(i+"    See line "+i.line+" of "+i.sourceURL)}if(this.__additionalDispatchers.length>0)for(var r=0;
r<this.__additionalDispatchers.length;
r++)try{this.__additionalDispatchers[r].itsDispatchEvent(t)}catch(i){console&&console.error&&i.line&&i.sourceURL&&console.error(i+"    See line "+i.line+" of "+i.sourceURL)}},its.x._ITSEventDispatcher.itsDelegateEvents=function(t){its.x.extendWithEventDispatching(t),this.__additionalDispatchers.push(t)},its.x.dynaLoadResourceFile=function(t,n){var r=!1;
if(its&&its.property&&its.property("DynaLoader.allowDynaLoading")){its._dynaLoadedFiles||(its._dynaLoadedFiles=[]);
if(t&&!its.contains(its._dynaLoadedFiles,t)){var i=null,s=null,o=null,i=document.getElementsByTagName("head");
i&&(s=i[0]),s&&(o=s.firstChild);
if(o){its._dynaLoadedFiles.push(t);
var u=its.contains(t,".js")||its.contains(t,".jsz")?"js":"css",a=u=="js"?"SCRIPT":"LINK",f=u=="js"?"text/javascript":"text/css",l=document.createElement(a);
l.onload=l.onreadystatechange=n,l.type=f,u=="css"?(l.rel="stylesheet",l.href=t):(l.charset="utf-8",l.src=t),its.x.element.insertBeforeElement(o,l),r=!0}else window.console&&console.log&&(console.log("its.x.dynaLoadResourceFile: Waiting for DOM <head> section to be created before fetching resource: "+t),window.setTimeout(function(){its.x.dynaLoadResourceFile(t,n)},200))}else t&&(r=!0)}return r},window.its||(window.its={}),its.files||(its.files={}),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice,r=n.call(arguments,1);
return function(){return t.apply(e,r.concat(n.call(arguments)))}}),Class={create:function(e,t){return Class._create(e,t)},createSubclass:function(e,t,n){if(!t)throw new Error("Undefined base class when creating subclass: "+e);
return Class._create(e,n,t)},_create:function(e,t,n){function r(){this.initialize.apply(this,arguments)}function i(e,t,n){var r=e[n];
e[n]=function(){var i=t[n],s=this.base,o=arguments;
this.base=function(){return arguments.length&&(o=arguments),i.apply(this,o)};
try{return r.apply(this,o)}finally{this.base=s}}}if(n){var s=function(){};
s.prototype=n.prototype,r.prototype=new s}Class.extend(r.prototype,t);
if(n)for(var o in n.prototype)r.prototype.hasOwnProperty(o)&&typeof r.prototype[o]=="function"&&typeof n.prototype[o]=="function"&&i(r.prototype,n.prototype,o);
return r.prototype.initialize||(r.prototype.initialize=its.emptyFunction),r.prototype.constructor=r,r.klassName=e,r},extend:function(e,t){e=e||{},t=t||{};
for(var n in t)e[n]=t[n];
return e},shallowClone:function(e){return Class.extend({},e)}},function(e,t){e.its||(e.its={});
var n=e.its;
if(n.kit)return;n.kit={_domContentLoaded:!1,_pageLoaded:!1,_afterPageLoaded:!1,_preloadListeners:[],_domReadyListeners:[],_loadListeners:[],_afterLoadListeners:[],_domInsertedListeners:null,preload:function(){s.preload()},onPreload:function(e){this._preloadListeners.push(e)},onDomReady:function(e){this._domContentLoaded?e():this._domReadyListeners.push(e)},onLoad:function(e){this._pageLoaded?e():this._loadListeners.push(e)},onAfterLoad:function(e){this._afterPageLoaded?e():this._afterLoadListeners.push(e)},onDomInserted:function(e){var t=this._domInsertedListeners=this._domInsertedListeners||[];
t.push(e)},createController:function(e,t){r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(e)&&console.log("Creating controller matching filterControllerNameSubstring: "+e);
var n=this._util.newController(e,t),i=n.newClass();
return this._controllers[n.name]=i,this._domContentLoaded&&(r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(e)&&console.log("Controller created after DOMContentLoaded... initting manually: "+e),i._init(),i._bindOnRootElement(document),i.domReady&&i.domReady()),i.init&&i.init(),i},createMixin:function(e,t){var n=this._util.newMixin(e,t);
this._mixins[n.name]=n.newClass()},preventBinding:function(e){e[r._util.preventItsKitBinding]=!0},sendToController:function(e,t){i.typeOfObject(e)=="String"&&(e=r._util.massageControllerName(e));
var n=i.argumentsToArray(arguments,2);
e=this._controllers[e];
if(e&&t in e)return e[t].apply(e,n)},disableBinding:function(){s.ignoreDOMNodeInserted=!0},enableBinding:function(t){delete s.ignoreDOMNodeInserted,t&&n.kit.rebind()},rebind:function(t){s.bindAndInitOnElement(document.documentElement),t||s._notifyOfDomInserted(null)},bindAfter:function(t,n){this.disableBinding(),t&&(n=n||null,t.call(n)),this.enableBinding(!0)},domLoaded:function(){return n.kit._domContentLoaded},pageLoaded:function(){return n.kit._pageLoaded},afterPageLoaded:function(){return n.kit._afterPageLoaded},debug:function(e,t){e=i.optionalBooleanArg(e,!0);
var n=!1;
sessionStorage&&(sessionStorage["its.kit.debug.enabled"]=e.toString(),t?sessionStorage["its.kit.debug.filterControllerNameSubstring"]=t:sessionStorage.removeItem("its.kit.debug.filterControllerNameSubstring")),e&&(n=r._debug.printAll(),n||(t?console.log("WARNING: No controllers found matching: "+t):console.log("WARNING: No controllers found."))),r._debug.isEnabled=r._debug._isEnabled},isDebugEnabled:function(){return r._debug.isEnabled()},util:{extend:function(e,t,n){function o(t){for(var r in t){var i=t.__lookupGetter__(r),s=t.__lookupSetter__(r);
if(n||!(r in e))i||s?(i&&e.__defineGetter__(r,i),s&&e.__defineSetter__(r,s)):e[r]=t[r]}}var r;
t=this.arrayify(t);
if(t)for(var i=0,s=t.length;
i<s;
i++)o(t[i]);
return e},optionalArg:function(e,t){return e?e:t},optionalTypedArg:function(e,t,n){return i.typeOfObject(t)===e?t:n},optionalBooleanArg:function(e,t){return i.optionalTypedArg("Boolean",e,t)},optionalStringArg:function(e,t){return i.optionalTypedArg("String",e,t)},optionalNumberArg:function(e,t){return i.optionalTypedArg("Number",e,t)},optionalObjectArg:function(e,t){return i.optionalTypedArg("Object",e,t)},appendAttribute:function(e,t,n,r){var s=e.hasAttribute(t)?e.getAttribute(t)+i.optionalStringArg(r," ")+n:n;
e.setAttribute(t,s)},typeOfObject:function(t){if(t===null)return"null";
var n=typeof t;
switch(n){case"undefined":break;case"string":n="String";
break;case"number":n="Number";
break;case"object":n=t.constructor.name||t.toString().slice(8,-1);
break;case"function":n=t.name||t.constructor.name;
break;case"boolean":n="Boolean";
break;default:n="unknown"}return n},objectIsA:function(t,n){var r=i.typeOfObject(t);
return typeof n=="string"?r===n:r===i.typeOfObject(n)},arrayify:function(t){return i.objectIsA(t,Array)?t:[t]},pickFirstNonNull:function(){var t=i.argumentsToArray(arguments),n;
for(var r=0,s=t.length;
r<s;
r++){n=t[r];
switch(i.typeOfObject(n)){case"String":return n;
case"Function":var o=n();
if(o)return o}}return null},argumentsToArray:function(t,n){return Array.prototype.slice.call(t||[],i.optionalNumberArg(n,0))},apply:function(t,n,r){var s=null;
return n=i.objectIsA(n,"String")?t[n]:n,r=r||[],n&&(s=n.apply(t,i.argumentsToArray(r))),s},applyToCollection:function(t,n,r){var s=null,o=i.typeOfObject(t),u,a,f;
if(o==="Array")for(u=0,a=t.length;
u<a;
u++)f=i.apply(t[u],n,r),f&&!s&&(s=f);
if(o==="Object")for(u in t)t.hasOwnProperty(u)&&(f=i.apply(t[u],n,r)),f&&!s&&(s=f);
return s},bind:function(t,n){var r=i.argumentsToArray(arguments,2);
return function(){i.apply(t,n,r.concat(i.argumentsToArray(arguments)))}},defer:function(){var t=i.argumentsToArray(arguments),n=typeof t[0]=="number"?t.shift():0;
setTimeout(i.bind.apply(i,t),n)}},_controllers:{},_mixins:{},_init:{handleEvent:function(e){s[e.type]?s[e.type](e):s.applyToControllers(e.type,e),i.applyToCollection(r._mixins,e.type,arguments)},preload:function(){ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchPreloadStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchPreloadDuration"),s.applyToControllers("preload"),n.kit._preloadListeners.forEach(function(e){e()}),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchPreloadDuration",!0)},load:function(e){n.kit._pageLoaded=!0,i.defer(s,"afterPageLoadAction",e),ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchLoadStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchLoadDuration"),n.kit._loadListeners.forEach(function(e){e()}),s.applyToControllers("load",e),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchLoadDuration",!0)},afterPageLoadAction:function(e){n.kit._afterPageLoaded=!0,ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchAfterLoadStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchAfterLoadDuration"),this.applyToControllers("afterLoad",e),n.kit._afterLoadListeners.forEach(function(e){e()}),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchAfterLoadDuration",!0),ITSStopwatch.named("ITSLoadTimes").logToServer()},DOMContentLoaded:function(e){n.kit._domContentLoaded=!0,ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchInitStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchInitDuration"),s.applyToControllers("_init"),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchInitDuration",!0),s.bindAndInitOnElement(e.srcElement),ITSStopwatch.named("ITSLoadTimes").markElapsedTimeNamed("itsKitDispatchDomReadyStart",!0),ITSStopwatch.named("ITSLoadTimes").startSplitTimeNamed("itsKitDispatchDomReadyDuration"),s.applyToControllers("domReady",e),document.addEventListener("DOMNodeInserted",s,!1),n.kit._domReadyListeners.forEach(function(e){e()}),ITSStopwatch.named("ITSLoadTimes").stopSplitTimeNamed("itsKitDispatchDomReadyDuration",!0)},DOMNodeInserted:function(e){var t=e.srcElement;
if(s.ignoreDOMNodeInserted)return;if(t.nodeType!=1||t.tagName=="SCRIPT"||t.tagName=="LINK")return;if(t[r._util.preventItsKitBinding]||t.hasAttribute(r._util.preventItsKitBinding))return;s.bindAndInitOnElement(e.srcElement.parentNode),s._notifyOfDomInserted(e)},_notifyOfDomInserted:function(e){i.defer(s,"afterDomInsertedAction",e),n.kit._domInsertedListeners&&n.kit._domInsertedListeners.forEach(function(t){t(e)}),s.applyToControllers("domInserted",e)},afterDomInsertedAction:function(e){n.kit._afterDomInserted=!0,this.applyToControllers("afterInserted",e)},bindAndInitOnElement:function(t){s.applyToControllers("_bindOnRootElement",t)},applyToControllers:function(e){function a(){if(this.className in u)return t;
u[this.className]=!0;
var n=this._factory.options.initAfter;
return n&&(n=n.replace(o,"")+"Controller",n in r._controllers&&a.call(r._controllers[n])),i.apply(this,e,s)}var t=null,s=i.argumentsToArray(arguments,1),o=n.kit._util.controllerNameRegExp,u={};
return t=i.applyToCollection(r._controllers,a),t}},_util:{controllerNameRegExp:/Controller$/g,preventItsKitBinding:"prevent-its-kit-binding",createClass:function(t,n){var r=e;
return r[t]||(r[t]=(new Function("","return function "+t+"(){};"))()),n&&this.extendClass(r[t],n),r[t]},extendClass:function(e,t){t=i.arrayify(t);
var n;
for(var s=0,o=t.length;
s<o;
s++)n=t[s],t[s]=i.objectIsA(n,"String")?r._extensions[n]:n;
return i.extend(e.prototype,t)},newComponent:function(e,t){return this.newObject(e.replace(this.controllerNameRegExp,""),t)},newController:function(e,t){var n=!t;
e=this.massageControllerName(e),t=i.optionalObjectArg(t,{});
if(n||t.binding||t.component)t.newComponent=this.newComponent(e,[t.component||{},"all"]);
return this.newObject(e,[t.controller,"controller","all"],{_components:[]},t)},newMixin:function(e,t){return this.newObject(e+"Mixin",[t,"mixin","all"],{_controllers:[],_rawName:e})},newObject:function(e,t,n,r){return{name:e,klass:this.createClass(e,t),options:i.optionalObjectArg(r,{}),extend:function(e,t){var n=this.klass.prototype;
t&&(this.klass.prototype[t]={},n=n[t]),i.extend(n,e)},newClass:function(e){return i.extend(new this.klass,[{className:this.name,_factory:this},n,e])}}},massageControllerName:function(e){return e.replace(this.controllerNameRegExp,""),e.lastIndexOf("Controller")==-1&&(e+="Controller"),e}},_extensions:{all:{listen:function(e,t,n){return this._listen(i.argumentsToArray(arguments),!1)},capture:function(e,t,n){return this._listen(i.argumentsToArray(arguments),!0)},_listen:function(e,t){var n=this,r,s,o;
return e.length==1?(r=n.element||document,s=e[0],o=s+"Event"):e.length==2?typeof e[0]=="string"?(r=n.element||document,s=e[0],o=e[1]):(r=e[0],s=e[1],o=s+"Event"):(r=e[0],s=e[1],o=e[2]),typeof o!="object"&&(o=i.bind(n,o)),r.addEventListener(s,o,t),{remove:function(){r.removeEventListener(s,o,t)}}},handleEvent:function(e){var t=e.type+"Event";
this[t]&&this[t].call(this,e)},dispatchCustomEvent:function(e,t,n,r,s){r=i.optionalBooleanArg(r,!0),s=i.optionalBooleanArg(s,!0);
var o=document.createEvent("Events");
o.initEvent(t,r,s),o._customEvent=!0,i.extend(o,n),e.dispatchEvent(o)}},controller:{shouldBindToElement:function(e){return!0},rebind:function(){this.applyToComponents("init")},applyToComponents:function(e){i.applyToCollection(this._components,e,i.argumentsToArray(arguments,1))},getComponents:function(){return[].concat(this._components)},bindToElements:function(e,t){if(!e)return null;
typeof e=="string"&&(t=e,e=document.querySelectorAll(e));
var n=[],s;
for(var o=0,u=e.length;
o<u;
o++)s=this._bindToElement(e[o]),s&&n.push(s);
return i.applyToCollection(n,"bound"),i.applyToCollection(n,"init"),r._debug.isEnabled()&&r._debug.print(this,n,t),n},bindToElement:function(e){var t=this._bindToElement(e);
return t&&(i.apply(t,"bound"),i.apply(t,"init"),r._debug.isEnabled()&&r._debug.print(this,[t])),t},_init:function(){if(!this.binding){var e=this._factory.options.binding;
typeof e=="string"?(this._bindingSelector=e,this.binding=this._binding):typeof e=="function"&&(this.binding=e)}if(this._factory.options.mixins){var t=i.arrayify(this._factory.options.mixins),n,s;
for(var o=0,u=t.length;
o<u;
o++)n=t[o],s=r._mixins[n+"Mixin"],s&&(s.methods&&(this._factory.extend(s.methods),this._factory.options.newComponent&&this._factory.options.newComponent.extend(s.methods,n)),s._controllers.push(this))}},_binding:function(e){return this._bindingSelector&&e&&e.querySelectorAll?e.querySelectorAll(this._bindingSelector):[]},_bindOnRootElement:function(e){this.binding?this.bindToElements(this.binding(e),this._bindingSelector):r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(this._factory.name)&&console.log('WARNING: No "binding" specification found for matching controller: '+this._factory.name)},_bindToElement:function(e){var t=this._factory.options.newComponent;
if(t&&!(t.name in e)&&!e[r._util.preventItsKitBinding]&&!e.hasAttribute(r._util.preventItsKitBinding)){var n=null;
return this.shouldBindToElement(e)&&(n=t.newClass({element:e,controller:this}),this._factory.options.unbind!==!1&&e.addEventListener("DOMNodeRemovedFromDocument",i.bind(this,"_unbindFromElement",n)),this._components.push(n),e[t.name]=n),n}return null},_unbindFromElement:function(e){var t=this._components.indexOf(e);
t&&(i.apply(e,"unbound"),this._components.splice(t,1))},pagehide:function(e){this.unload&&(console.log("pagehide event called, but unload existed instead. Please replace unload with pagehide!"),this.unload(e))}},mixin:{sendCallback:function(e){arguments[0]=this._rawName+"_"+arguments[0],i.applyToCollection(this._controllers,"applyToComponents",arguments),i.applyToCollection(this._controllers,arguments[0],i.argumentsToArray(arguments,1))}}},_debug:{_isEnabled:function(){var t=/(\?|&)its.kit.debug.enabled=true(&|$)/.test(e.location.search)||sessionStorage&&sessionStorage["its.kit.debug.enabled"]=="true";
return this.isEnabled=function(){return t},t},isEnabled:function(){return this._isEnabled()},hasFilter:function(){return this.filterName()?!0:!1},filterName:function(){return sessionStorage["its.kit.debug.filterControllerNameSubstring"]},controllerNameMatchesFilter:function(e){var t=this.filterName();
return t=="all"||t&&e.toLowerCase().indexOf(t.toLowerCase())!=-1},print:function(e,t,n){var s=!1,o=e.className,u=this.filterName();
if(this.controllerNameMatchesFilter(o)){t||(t=e._components);
var a=!t.length&&u;
if(t.length||a){var f="its.kit.debug: "+o,l=t.length;
a?f+=" FAILED to bind to any elements":(f+=" SUCCESSFULLY bound to "+l+(l>1?" elements":" element"),s=!0),n&&(f+=' matching the selector: "'+n+'".'),t.length==1?console.log(f,"Component:",t[0]):t.length>5?console.log(f,"First 5 components:",t.slice(0,5)):console.log(f,"Components:",t)}}return r._debug.isEnabled()&&r._debug.controllerNameMatchesFilter(name)&&e.applyToComponents(function(){var e=this.element,t=this._factory.name,n=(e.getAttribute("its-kit-bound")||"").split(" ");
n.indexOf(t)==-1&&i.appendAttribute(e,"its-kit-bound",t)}),s},printAll:function(e){var t=this;
return s.applyToControllers(function(){return t.print(this,this._components,this._bindingSelector)})}},_go:function(e){e.document.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1),e.addEventListener("pagehide",s,!1)}};
var r=n.kit,i=r.util,s=r._init;
r._go(e)}(window),typeof window=="undefined"&&(window=this),typeof location=="undefined"&&(location={},location.search=""),window.its||(window.its={}),its.sf||(its.sf={}),its.currentTime=function(){return(new Date).getTime()},its.isDefined=function(t){return typeof t!="undefined"},its.isDefinedNonNull=function(t){return its.isDefined(t)&&t!=null},its.isDefinedNonNullNonEmpty=function(t){return its.isDefined(t)&&t!=null&&t!=""},its.isFunction=function(t){return typeof t=="function"},its.isNumber=function(t){return typeof t=="number"},its.isString=function(t){return typeof t=="string"||t instanceof String},its.isElement=function(t){return t&&t.nodeType==1},its.isArray=function(t){return t&&t.constructor===Array},its.isObject=function(t){return t&&t.constructor===Object},its.createObjectPath=function(e,t){return its.objectAtPath(e,t,!0)},its.objectAtPath=function(e,t,n){var r=definedValue(t,window);
if(e){var i=e.split(".");
for(var s=0;
r&&s<i.length;
s++){var o=i[s];
!r[o]&&n&&(r[o]={}),r[o]?r=r[o]:r=null}}return r},its.toArray=function(t){var n;
if(its.isString(t))t=its.string.trim(t,"(){}[]"),n=t.split(",");
else{var n=[];
if(t&&its.isDefinedNonNull(t.length))for(var r=0;
r<t.length;
r++)n[r]=t[r]}return n},its.arrayToMap=function(e){var t={};
e=its.toArray(e);
for(var n=0;
n<e.length;
n++)t[e[n]]=!0;
return t},its.toBoolean=function(t){return t?t=="0"||t=="false"?!1:!0:!1},its.isEmpty=function(t){var n=!0;
if(its.isDefinedNonNull(t))if(its.isString(t)&&t!="")n=!1;
else if(its.isArray(t)&&t.length>0)n=!1;
else for(var r in t)if(t.hasOwnProperty(r)){n=!1;
break}return n},its.contains=function(t,n){var r=!1;
return its.isDefinedNonNull(t)&&its.isDefinedNonNull(n)&&(its.isString(t)&&its.isString(n)&&t.indexOf(n)!=-1||its.isArray(t)&&t.indexOf(n)!=-1||its.isDefinedNonNull(t[n]))&&(r=!0),r},its.webkitVersion=function(){var t=navigator.userAgent,n=/AppleWebKit\/([\d.]+)/,r=n.exec(t),i;
if(r)i=r[1];
else{var s=/^iTunes\/10\.4 \(Windows;.+AppleWebKit\/$/;
s.exec(t)?i="533.21.1":(window.console&&console.warn("Unable to determine WebKit version from user agent: "+t),i="0")}return i},its.webkitVersionCompare=function(t,n){var r=0,i=0,s=t.split("."),o=n.split(".");
while((s[i]||o[i])&&r==0){var u=s[i]?its.string.toInt(s[i]):0,a=o[i]?its.string.toInt(o[i]):0;
u<a?r=-1:u>a&&(r=1),i++}return r},its.poseAs=function(e,t,n){var r=e[t];
e[t]=function(){var e=[r,arguments];
return n.apply(this,e)}},its.emptyFunction=function(){},its.swallowEventFunction=function(t){t.preventDefault(),t.stopPropagation()},window.its.element||(window.its.element={}),its.element.createDocumentFragmentFromString=function(t){var n=document.createDocumentFragment(),r;
if(!its.sf.Platform.isITML()){var i=document.createElement("div");
i.innerHTML=t,r=i.children;
var s=r.length;
for(var o=0;
o<s;
o++)n.appendChild(r[0])}else if(its.string.compareNumerically(its.sf.Client.version(),"8.0")>=0)n.innerXML=t;
else{t="<placeholder>"+t+"</placeholder>",i=(new DOMParser).parseFromString(t,"text/xml"),r=i.firstChild.children;
for(var o=0;
o<r.length;
o++){var u=r.item(o);
document.adoptNode(u),n.appendChild(u)}}return its&&its.Template&&its.sf.Platform.isITML()&&its.Template.queryForITSElements(n),n},its.element.createElementFromString=function(t){var n=its.element.createDocumentFragmentFromString(t),r=n.childNodes;
return r.length>0?(r.length>1&&window.console&&console.warn("its.element.createElementFromString: multiple elements were created, but only the first will be returned"),r.item(0)):null},its.element.setAttributes=function(t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&t.setAttribute(r,n[r])},its.element.getScrollTop=function(e){return e==window?window.scrollY:e.scrollTop},its.element.getScrollLeft=function(e){return e==window?window.scrollX:e.scrollLeft},its.element.getClientHeight=function(e){return e==window?window.innerHeight:e.clientHeight},its.element.getClientWidth=function(e){return e==window?window.innerWidth:e.clientWidth},its.element.getScrollHeight=function(e){return e==window?window.pageYOffset:e.scrollHeight},its.element.getScrollWidth=function(e){return e==window?window.pageXOffset:e.scrollWidth},its.element.getOffsetHeight=function(e){return e==window?document.body.offsetHeight:e.offsetHeight},its.element.getOffsetWidth=function(e){return e==window?document.body.offsetWidth:e.offsetWidth},window.its.geometry||(window.its.geometry={}),its.geometry.doesRectIntersectRect=function(t,n){var r=!0;
return t.right<n.left?r=!1:t.left>n.right?r=!1:t.bottom<n.top?r=!1:t.top>n.bottom&&(r=!1),r},its.geometry.Orientation={VERTICAL:1,HORIZONTAL:2},window.its.array||(window.its.array={}),its.array.arrayOfPrimitivesAsSet=function(t){if(t==null)return null;
var n={};
for(var r=0;
r<t.length;
r++){var i=t[r];
switch(typeof i){case"boolean":case"number":case"string":n[i]=!0;
break;default:throw"its.array.asSet: array contains non primitive element"}}return n},its.array.pushAll=function(t,n){t.push.apply(t,n)},its.array.insertArray=function(e,t,n,r){var i=e[n];
return e[n]="temp",e[n]=i,r&&e.splice(n,t.length),e.splice.apply(e,[n,0].concat(t)),e},window.its.string||(window.its.string={}),its.string.startsWith=function(t,n,r){var i=!1;
return t&&n&&(t=t.substr(0,n.length),r&&(t=t.toLowerCase(),n=n.toLowerCase()),i=t.indexOf(n)===0),i},its.string.endsWith=function(t,n,r){var i=!1;
if(t){r&&(t=t.toLowerCase(),n=n.toLowerCase());
var s=t.length-n.length;
i=s>=0&&t.lastIndexOf(n)===s}return i},its.string.pad=function(t,n,r){var i=t+="";
r=r||"0";
if(i.length<n){var s=n-i.length,o=[];
for(var u=s;
u>0;
u--)o.push(r);
i=o.join("")+i}return i},its.string.replace=function(e,t,n){return e?(typeof e!="string"&&(e+=""),e.split(t).join(n)):e},its.string.whitespace="	\n\f\r             　\u2028\u2029​",its.string._whitespaceTrimStartRegex=new RegExp("^["+its.string.whitespace+"]+"),its.string._whitespaceTrimEndRegex=new RegExp("["+its.string.whitespace+"]+$"),its.string.trim=function(t,n,r){var i=null;
if(t)if(!r&&(!n||n==its.string.whitespace)&&t.trim)i=t.trim();
else{var s=null,o=null,u=null;
its.isDefinedNonNull(n)?(n=n.replace(/([.?*+^$[\]\\(){}-])/g,"\\$1"),s="["+n+"]",o=new RegExp("^"+s+"+"),u=new RegExp(s+"+$")):(s=its.string.whitespace,o=its.string._whitespaceTrimStartRegex,u=its.string._whitespaceTrimEndRegex);
var a=t.replace(o,"");
i=a.replace(u,"")}return i},its.string.splitTrimmed=function(t,n,r){var i=t.split(n);
if(i)for(var s=0;
s<i.length;
s++)i[s]=its.string.trim(i[s],r);
return i},its.string.xmlEscape=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};
return function(t){var n=t;
return n&&(n+="",n=n.replace(/[&<>"']/g,function(t){return e[t]})),n}}(),its.string.xmlUnescape=function(t){return t.replace(/&apos;/g,String.fromCharCode(39)).replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},its.string.htmlUnescape=function(t){var n=document.createElement("textarea");
n.innerHTML=t.replace(/</g,"&lt;").replace(/>/g,"&gt;");
var r=n.value;
return n.remove(),r},its.string.contains=function(t,n){return t&&t.indexOf(n)>-1},its.string.urlDecode=function(t){var n=t;
return t&&(n=t.replace(/\+/g," "),n=decodeURIComponent(n)),n};
var _dateExpression=new RegExp("^([0-9]{4}/[0-9]{2}/[0-9]{2})/(.*)");
its.string.compare=function(t,n,r,i){var s=null,o=1;
r&&(o=-1);
var u=_dateExpression.exec(t),a=_dateExpression.exec(n);
u&&a&&(u[1]==a[1]?(t=u[2],n=a[2]):(s=u[1]>a[1]?1:-1,i&&(o=-1)));
if(!s){var f=parseFloat(t),l=parseFloat(n);
if(!isNaN(f)&&!isNaN(l)&&f!=l)s=f-l;
else{var c=t.toLowerCase(),h=n.toLowerCase();
if(c<h)s=-1;
else if(c>h)s=1;
else{s=0;
for(var p=0;
!s&&p<t.length;
p++){var d=t.charAt(p),v=n.charAt(p);
d<v?s=1:d>v&&(s=-1)}}}}return s*=o,s},its.string.compareNumerically=function(e,t){if(!e&&!t)return 0;
if(!e)return-1;
if(!t)return 1;
var n="0123456789",r=0,i=0;
while(r<e.length||i<t.length){var s=e[r],o=t[i];
if(!o)return 1;
if(!s)return-1;
var u=n.indexOf(s)>=0,a=n.indexOf(o)>=0;
if(u&&a){var f=its.string._getNumberFromBeginningOfString(e,r),l=its.string._getNumberFromBeginningOfString(t,i);
if(parseInt(f,10)<parseInt(l,10))return-1;
if(parseInt(f,10)>parseInt(l,10))return 1;
r+=f.length,i+=l.length}else{if(s<o)return-1;
if(s>o)return 1;
r++,i++}}return 0},its.string._getNumberFromBeginningOfString=function(e,t){var n="0123456789";
for(var r=t;
r<e.length;
r++)if(n.indexOf(e[r])<0)break;return e.substring(t,r)},its.string.toInt=function(t){return parseInt(t,10)},its.string.isJson=function(t){var n=!1;
if(!its.isEmpty(t)){var r=t.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,"");
n=/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(r)}return n},its.string.evalJson=function itsStringEvalJson(aString){try{if(its.string.isJson(aString))return eval("("+aString+")")}catch(e){}throw new SyntaxError("Badly formed JSON string: "+aString)},its.string.allAlphaNumerics="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",its.string.randomAlphaNumericString=function(t){var n="";
for(var r=0;
r<t;
r++)n+=its.string.allAlphaNumerics[Math.floor(its.string.allAlphaNumerics.length*Math.random())];
return n},its.string.generateUuid=function(t,n){var r=null,i=(new Date).getTime()+"";
n||(n=6),t||(t=i.length+n);
if(n>t)throw new Error("its.string.generateUuid cannot generate a string with more random numbers than the max requested string length");
var s=t-n;
return s<i.length&&(i=i.substring(i.length-s)),r=i+its.string.randomAlphaNumericString(n),r},its.string.UUIDv4=function b(e){return e?(e^Math.random()*16>>e/4).toString(16):([1e7]+ -1e3+ -4e3+ -8e3+ -1e11).replace(/[018]/g,b)},its.string.unstringify=function(t){var n=t;
return t!=null&&its.isDefined(t)&&(n=="false"?n=!1:n=="true"?n=!0:/(^-?\d\d*\.\d*$)|(^-?\d\d*$)|(^-?\.\d\d*$)/.test(n)&&(isFinite(parsedNumber=parseFloat(n))?n=parsedNumber:isFinite(parsedNumber=parseInt(n,10))&&(n=parsedNumber))),n},its.string.capitalizeString=function(e){if(e&&e.length>0)return e.charAt(0).toUpperCase()+e.substr(1)},window.its.reflect||(window.its.reflect={}),its.reflect.keys=function keys(e){var keys=[];
for(var t in e)e.hasOwnProperty(t)&&!its.isFunction(e[t])&&keys.push(t);
return keys},its.reflect.hasAnyKeys=function(t){for(var n in t)if(t.hasOwnProperty(n))return!0},its.reflect.hasAnyNonNullKeys=function(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n])return!0},its.reflect.values=function values(e){var values=[];
for(var t in e){var n=e[t];
e.hasOwnProperty(t)&&!its.isFunction(n)&&values.push(n)}return values},its.reflect.methods=function methods(e){var methods=[];
for(var t in e){var n=e[t];
e.hasOwnProperty(t)&&its.isFunction(n)&&methods.push(n)}return methods},its.reflect.copyKeysAndValues=function(t,n){if(t)for(var r in t){var i=t[r];
t.hasOwnProperty(r)&&!its.isFunction(i)&&(n[r]=i)}},its.reflect.invert=function(e){var t={};
for(var n in e)e.hasOwnProperty(n)&&!its.isFunction(e[n])&&(t[e[n]]=n);
return t},window.its.url||(window.its.url={}),its.url.parentDomainWithNumComponents=function(t,n){var r=t;
if(t&&t!=""){var i=t.split("."),s=i.length;
if(s>=n){r="";
while(n)r+=i[s-n],n--,n&&(r+=".")}}return r},its.url.queryParamsDict=function(t){var n=null,r=null;
if(!t)r=window.location.search;
else{var i=t.indexOf("?");
i>=0&&(r=t.substring(i))}return r?n=its.url.parseQueryParams(r):n={},n},its.url.queryParamValue=function(t,n){var r=its.url.queryParamsDict(n);
return r[t]},its.url.parseQueryParams=function(t,n){var r={};
if(t!=null&&t.length>0){t.charAt(0)==="?"&&(t=t.substr(1));
var i=t.indexOf("#");
i!==-1&&(t=t.substr(0,i));
var s=t.split("&");
for(var o=0;
o<s.length;
o++){var u=s[o].split("=");
if(u.length==2){var a=u[1];
n||(a=its.string.urlDecode(a)),r[u[0]]=a}}}return r},its.url.parseHashAnchorParams=function(t){var n={};
t||(t=window.location.hash);
if(t!=null&&t.length>0){t.charAt(0)==="#"&&(t=t.substr(1));
var r=t.split(";");
for(var i=0;
i<r.length;
i++){var s=r[i].split("=");
if(s.length==2){var o=its.string.urlDecode(s[1]);
n[s[0]]=o}else n[r[i]]=""}}return n},its.url.parseHostname=function(t){var n="";
if(t){t=t.toString();
if(t&&t.indexOf("://")>0){var r=t.indexOf("://")+3,i=t.indexOf("/",r);
i===-1&&(i=t.length),n=t.substring(r,i)}}return n},its.url.parseUrlScheme=function(t){var n="";
if(t){t=t.toString();
if(t&&t.indexOf("://")>0){var r=t.indexOf("://");
r===-1&&(r=t.length),n=t.substring(0,r)}}return n},its.url.changeUrlScheme=function(t,n){var r="";
if(t&&n){t=t.toString();
if(t){var i=its.url.parseUrlScheme(t);
r=t.replace(i,n)}}return r},its.url.finalPathComponent=function(t){var n="";
if(t){t=t.toString();
if(t&&t!=""){var r=t.lastIndexOf("/");
if(r==t.length-1&&r>0)var r=t.lastIndexOf(r-1);
r!=t.length-1&&(n=t.substring(r+1)),(r=n.lastIndexOf("/"))!=-1&&(n=n.substring(0,r)),(r=n.lastIndexOf("?"))!=-1&&(n=n.substring(0,r))}}return n},its.url.buildUrlFromMap=function(e){var t=[];
for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];
typeof r!="undefined"&&r!=null&&t.push(n+"="+encodeURIComponent(r))}return t.join("&")},its.url.appendUrlParameter=function(t,n,r){var i={};
return i[n]=r,its.url.appendUrlParameters(t,i)},its.url.appendUrlParameters=function(t,n){if(!n)return t;
var r=its.url.queryParamsDict(t);
for(var i in n)r[i]=n[i];
var s=its.url.buildUrlFromMap(r);
return its.url.appendUrlParametersString(its.url.baseUrl(t),s)},its.url.appendUrlParametersString=function(t,n){t||(t="");
if(!n)return t;
var r=t.indexOf("?")===-1?"?":"&";
return t+=r+n,t},its.url.encodeURIAndComponents=function(e){var t=its.url.queryParamsDict(e),n=encodeURI(its.url.baseUrl(e)),r=[];
for(var i in t)r.push(encodeURIComponent(i+"="+t[i]));
return its.url.appendUrlParametersString(n,r.join("&"))},its.url.baseUrl=function(t){try{var n=t.indexOf("?");
if(n===-1){n=t.indexOf("#");
if(n===-1)return t}}catch(r){if(its&&its.Logger){var i=its.Logger.named("its-base-util");
i.error("Error in its.util.baseUrl: "+r.message,{error:r},!0)}}return t.substring(0,n)},its.url.originalLocationQueryParams=its.url.queryParamsDict(),its.url.originalLocationHashAnchorParams=its.url.parseHashAnchorParams(),its.url.formRedirect=function(t,n,r){var i=document.createElement("form");
i.method=r?"post":"get",i.target=t,i.action=n,document.body.appendChild(i),i.submit()},its.url.openExternalUrl=function(t,n){var r=document.createElement("a");
r.setAttribute("href",t),n=="main"?r.setAttribute("target",n):r.setAttribute("target","_blank");
var i=document.createEvent("MouseEvents");
i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i)},window.its.cookies||(window.its.cookies={}),its.cookies.EXPIRE_NOW=-1,its.cookies.EXPIRE_SESSION=null,its.cookies.EXPIRE_ONE_SECOND=1,its.cookies.EXPIRE_ONE_MINUTE=its.cookies.EXPIRE_ONE_SECOND*60,its.cookies.EXPIRE_ONE_HOUR=its.cookies.EXPIRE_ONE_MINUTE*60,its.cookies.EXPIRE_ONE_DAY=its.cookies.EXPIRE_ONE_HOUR*24,its.cookies.EXPIRE_ONE_WEEK=its.cookies.EXPIRE_ONE_DAY*7,its.cookies.EXPIRE_ONE_MONTH=its.cookies.EXPIRE_ONE_DAY*31,its.cookies.EXPIRE_SIX_MONTHS=its.cookies.EXPIRE_ONE_MONTH*6-5,its.cookies.EXPIRE_ONE_YEAR=its.cookies.EXPIRE_ONE_DAY*365,its.cookies.EXPIRE_ONE_SIDEREAL_YEAR=its.cookies.EXPIRE_ONE_DAY*365.25,its.cookies.EXPIRE_SIX_MONTHS=its.cookies.EXPIRE_ONE_DAY*180,its.cookies.set=function(t,n,r,i,s){return n&&(n=escape(n)),its.cookies.setUnescaped(t,n,r,i,s)},its.cookies.get=function(t){var n=its.cookies.getUnescaped(t);
return n&&(n=unescape(n)),n},its.cookies.setUnescaped=function(t,n,r,i,s){var o;
i||(i="/");
var u=null;
r&&(u=new Date,u.setTime(u.getTime()+r*1e3));
if(its.sf.Platform&&its.sf.Platform.isITML()){var a={name:t,value:n,path:i,domain:s?s:"",expires:u};
o=its.cookies._setRaw(a)}else{var f=u?u.toUTCString():"",l=s?" domain="+s:"",c=t+"="+n+"; expires="+f+"; path="+i+";"+l;
its.cookies._debugAndUnitTestLastRawSetCookieString=c;
var h=r==void 0||r==its.cookies.EXPIRE_SESSION||r==0,p="sf6"in its&&"Platform"in its.sf6&&its.sf.Platform.device();
if(p&&(h||r<0)){var d=document.cookie=c;
if(h)return d}o=its.cookies._setRaw(c)}return o},its.cookies.getUnescaped=function(t){var n=null,r=its.cookies._debugAndUnitTestCookieGetterWithRawCookieStringOverride||its.cookies._getRaw();
if(r&&t){its.cookies._debugAndUnitTestCookieGetterWithRawCookieStringOverride=null;
var i=r.split(";");
for(var s=i.length-1;
!n&&s>=0;
s--){var o=i[s],u=o.indexOf("=");
if(u>0)if(u+1==o.length)n="";
else{var a=its.string.trim(o.substring(0,u));
a==t&&(its.cookies._debugAndUnitTestLastRawGetCookieString=o,n=its.string.trim(o.substring(u+1)))}}}return n},its.cookies.remove=function(t,n){return its.cookies.setUnescaped(t,".",its.cookies.EXPIRE_NOW,null,n)},"iTunes"in window&&"cookie"in iTunes?its.cookies._cookieOwner="iTunes":typeof itms!="undefined"&&typeof itms.cookie!="undefined"?its.cookies._cookieOwner="itms":its.cookies._cookieOwner="document",its.cookies._setRaw=function(e){return window[this._cookieOwner].cookie=e},its.cookies._getRaw=function(){return window[this._cookieOwner].cookie||""},window.iTSLocalization||(iTSLocalization={}),window.iTSLocalization._strings||(iTSLocalization._strings={}),iTSLocalization.hasLocalizedValue=function(t){var n=iTSLocalization._strings[t];
return its.isDefined(n)},its.loc=function(e,t){var n=iTSLocalization._strings[e];
return typeof n=="undefined"&&(n=e),t&&(n=iTSLocalization.replaceTokens(n,t)),n=iTSLocalization.replaceMarkupTokens(n,t),n},its.locWithKeywords=function(e,t,n){var r=iTSLocalization._strings[e];
return typeof r=="undefined"&&(r=e),t&&(r=iTSLocalization.replaceTokensWithKeywords(r,t,n)),r},iTSLocalization._strings._showLocKeys&&(its.loc=function(e){return"+"+e+"+"}),its.locWithCount=function(e,t,n){var r=null,i,s;
return t==0&&(i=e+"."+"zero",iTSLocalization.hasLocalizedValue(i)&&(r=i)),r===null&&(r=e,s=iTSLocalization.pluralCategory(t),s!=="other"&&(i=e+"."+s,iTSLocalization.hasLocalizedValue(i)&&(r=i))),n||(n={}),its.isDefined(n.count)||(n.count=its.formatNumber(t)),its.loc(r,n)},iTSLocalization.replaceTokens=function(t,n){if(n)for(var r in n)if(n.hasOwnProperty(r)){var i="@@"+r+"@@";
t=its.string.replace(t,i,n[r])}return t},iTSLocalization.replaceTokensWithKeywords=function(e,t,n){if(t){var r;
for(var i in t)if(t.hasOwnProperty(i)){var s="@@"+i+"@@";
i=="date"?(r=n&&n.date?' format="'+n.date+'"':"",e=e.replace(new RegExp(s,"g"),"<date"+r+">"+t[i]+"</date>")):i=="count"||i=="number"?(r=n&&n.number?' format="'+n.number+'"':"",e=e.replace(new RegExp(s,"g"),"<number"+r+">"+t[i]+"</number>")):i=="duration"?(r=n&&n.duration?' format="'+n.duration+'"':"",e=e.replace(new RegExp(s,"g"),"<duration"+r+">"+t[i]+"</duration>")):e=its.string.replace(e,s,t[i])}}return e},iTSLocalization.markupParams={nbsp:"&nbsp;",gt:"&gt;",lt:"&lt;",copy:"©"},iTSLocalization.replaceMarkupTokens=function(t,n){if(t.indexOf("##")>-1){if(n)for(var r in n)iTSLocalization.markupParams[r.toString()]=n[r];
for(var i in iTSLocalization.markupParams){var s="##"+i+"##";
t=t.replace(new RegExp(s,"gi"),iTSLocalization.markupParams[i])}t=t.replace(/##([^##]+)##/gi,"<$1>")}return t},iTSLocalization.localizedResourceUrlForPathKey=function(t,n){n===undefined&&(n=/https:/.test(window.location.protocol));
var r=n?"https://s.mzstatic.com":"http://r.mzstatic.com";
return r+its.loc(t)},typeof itms!="undefined"&&typeof formatNumber!="undefined"?its.formatNumber=function(e){return formatNumber(Number(e))}:its.formatNumber=function(e){if(typeof iTSLocalization.decimalSeparator=="undefined"){var t=iTSLocalization._strings._decimalSeparator;
typeof t=="undefined"&&(t="."),iTSLocalization.decimalSeparator=t,t=iTSLocalization._strings._thousandsSeparator,typeof t=="undefined"&&(t=","),iTSLocalization.thousandsSeparator=t}var n=e.toString().split("."),r=iTSLocalization.thousandsSeparator,i=n[0].split("");
for(var s=i.length-3;
s>0;
s-=3)i.splice(s,0,r);
n[0]=i.join("");
var o=n.join(iTSLocalization.decimalSeparator);
return o},iTSLocalization._pluralCategoryDefault=function(e){return"other"},iTSLocalization._pluralCategoryOne=function(e){return e==1?"one":"other"},iTSLocalization._pluralCategoryArabic=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===0)return"zero";
if(t===1)return"one";
if(t===2)return"two";
var n=t%100;
return n>=11?"many":n>=3?"few":"other"},iTSLocalization._pluralCategoryFrench=function(e){return e<2&&e>=0?"one":"other"},iTSLocalization._pluralCategoryHebrew=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===1)return"one";
if(t===2)return"two";
var n=t%10;
return n==0&&t>10?"many":"other"},iTSLocalization._pluralCategoryPolish=function(e){var t=e>>0;
if(t!=e)return"other";
if(t===1)return"one";
var n=t%10;
if(n<=4&&n>=2){var r=t%100;
if(r>14||r<12)return"few"}return"many"},iTSLocalization._pluralCategoryRomanian=function(e){var t=e>>0;
if(t!=e)return"few";
if(t===0)return"few";
if(t===1)return"one";
var n=e%100;
return n<=19&&n>=1?"few":"other"},iTSLocalization._pluralCategoryRussian=function(e){var t=e>>0;
if(t!=e)return"other";
var n=t%10;
if(n>=5||n==0)return"many";
var r=t%100;
return r<=14&&r>=11?"many":n==1?"one":"few"},iTSLocalization._pluralCategoryFnByLanguage={zh:iTSLocalization._pluralCategoryDefault,id:iTSLocalization._pluralCategoryDefault,ja:iTSLocalization._pluralCategoryDefault,ko:iTSLocalization._pluralCategoryDefault,ms:iTSLocalization._pluralCategoryDefault,th:iTSLocalization._pluralCategoryDefault,vi:iTSLocalization._pluralCategoryDefault,en:iTSLocalization._pluralCategoryOne,ca:iTSLocalization._pluralCategoryOne,da:iTSLocalization._pluralCategoryOne,nl:iTSLocalization._pluralCategoryOne,de:iTSLocalization._pluralCategoryOne,el:iTSLocalization._pluralCategoryOne,fi:iTSLocalization._pluralCategoryOne,hu:iTSLocalization._pluralCategoryOne,it:iTSLocalization._pluralCategoryOne,nb:iTSLocalization._pluralCategoryOne,no:iTSLocalization._pluralCategoryOne,pt:iTSLocalization._pluralCategoryOne,es:iTSLocalization._pluralCategoryOne,sv:iTSLocalization._pluralCategoryOne,tr:iTSLocalization._pluralCategoryOne,ar:iTSLocalization._pluralCategoryArabic,fr:iTSLocalization._pluralCategoryFrench,iw:iTSLocalization._pluralCategoryHebrew,pl:iTSLocalization._pluralCategoryPolish,ro:iTSLocalization._pluralCategoryRomanian,ru:iTSLocalization._pluralCategoryRussian},iTSLocalization.pluralCategory=function(e){if(its.serverData&&its.serverData.constants){var t=iTSLocalization._pluralCategoryFnByLanguage[its.serverData.constants.languageCode];
if(t)return t(e);
if(its.Logger){var n=its.Logger.named("its-base-util");
n.error("missing plural category function for: "+its.serverData.constants.languageCode,!0)}}return"other"},its.isXMLResponse=function(e){var t,n="content-type";
try{t=e&&e.getResponseHeader(n)}catch(r){t=""}return t&&its.string.startsWith(t,"text/xml")},its.plistDictGetValue=function(t,n){if(!t)return;var r=t.childNodes.length,i=null;
for(var s=0;
s<r;
s++){var o=t.childNodes[s];
if(o.nodeType===Node.ELEMENT_NODE){if(i)return o.nodeName==="array"||o.nodeName==="dict"?o:o.textContent;
o.nodeName==="key"&&o.textContent===n&&(i=o)}}},its.plistDictRemoveValue=function(t,n){if(!t)return;var r=t.childNodes.length,i=null,s=null;
for(var o=0;
o<r;
o++){var u=t.childNodes[o];
if(u.nodeType===Node.ELEMENT_NODE){if(i){s=u;
break}u.nodeName==="key"&&u.textContent===n&&(i=u)}}i&&s&&(t.removeChild(i),t.removeChild(s))},its.plistDictAddDict=function(t,n,r){if(!t)return;var i=document.createElement("key");
i.textContent=n;
var s=document.createElement("dict");
if(r&&Array.isArray(r))for(var o=0;
o<r.length;
o++)s.appendChild(r[o]);
t.appendChild(i),t.appendChild(s)},its.plistDictAddKeyValue=function(t,n,r){if(!t)return;var i=document.createElement("key");
i.textContent=n;
var s=document.createElement("string");
s.textContent=r,t.appendChild(i),t.appendChild(s)},its.plistDictAddKeyValuePairs=function(t,n){if(!t)return;for(var r in n){if(!n.hasOwnProperty(r))continue;its.plistDictAddKeyValue(t,r,n[r])}},its._dataCache={},its.property=function(e,t){return t||(returnValue=its._dataCache[e]),returnValue==undefined&&(returnValue=its.value("its.serverData.properties",e,!0,t)),returnValue},its.pageData=function(e,t){return t||(returnValue=its._dataCache[e]),returnValue==undefined&&(returnValue=its.value("its.serverData.pageData",e,!0,t)),returnValue},its.valueOverride=function(e,t){var n;
return e&&(t||(n=its._dataCache[e]),n==undefined&&(n=its.string.unstringify(its.url.originalLocationQueryParams[e])),n==undefined&&(n=its.string.unstringify(sessionStorage.getItem(e)),n===null&&(n=undefined)),n==undefined&&(n=its.string.unstringify(localStorage.getItem(e)),n===null&&(n=undefined)),n==undefined&&window.itsv&&(n=window.itsv[e]),!t&&its.isDefined(e)&&its.isDefined(n)&&(its._dataCache[e]=n)),n},its.value=function(dataPath,key,useOverrideIfAvailable,noCache){its.value.totalCount++;
var returnValue,keyIsDefined=its.isDefined(key),cacheKey=keyIsDefined?key:dataPath;
if(its.isDefined(cacheKey)){useOverrideIfAvailable&&keyIsDefined&&(returnValue=its.valueOverride(key,noCache));
if(returnValue==undefined){its.value.cacheMissCount++,noCache||(returnValue=its._dataCache[cacheKey]);
if(returnValue==undefined){var objectAtDataPath;
try{objectAtDataPath=eval(dataPath)}catch(anException){}if(objectAtDataPath!=undefined)if(keyIs